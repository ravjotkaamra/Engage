(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{593:function(e,t,n){},594:function(e,t,n){},595:function(e,t,n){"use strict";n.r(t);var c=n(13),r=n(1),a=n.n(r),s=n(60),i=n.n(s),o=n(130),l=n(105),d=n(326),j=n(327),b=n(29),u=n(106),h=Object(l.combineReducers)({firebase:b.firebaseReducer,firestore:u.firestoreReducer}),O=[d.a.withExtraArgument({getFirebase:b.getFirebase,getFirestore:u.getFirestore})],x=Object(l.createStore)(h,{},Object(j.composeWithDevTools)(l.applyMiddleware.apply(void 0,O))),g=n(17);n(545),n(596);o.a.initializeApp({apiKey:"AIzaSyDI_uZtbs_d4yWOWVA2IZldh1h06MCT4Vc",authDomain:"fir-rtc-ec6e7.firebaseapp.com",databaseURL:"https://fir-rtc-ec6e7-default-rtdb.firebaseio.com",projectId:"fir-rtc-ec6e7",storageBucket:"fir-rtc-ec6e7.appspot.com",messagingSenderId:"733370491344",appId:"1:733370491344:web:9f24d0aa8296f8ddb619d5"}),o.a.firestore();var p=n(25),m=n(640),f=n(631),v=n(608),y=(n(547),n(548),Object(v.a)({fonts:{heading:"Open Sans",body:"Raleway"},colors:{brand:{50:"#ecefff",100:"#cbceeb",200:"#a9aed6",300:"#888ec5",400:"#666db3",500:"#4d5499",600:"#3c4178",700:"#2a2f57",800:"#181c37",900:"#080819"}},config:{initialColorMode:"light",useSystemColorMode:!1}})),w=n(167),k=n(24),S=n(3),C=["children","authenticated"],I=function(e){var t=e.children,n=e.authenticated,r=Object(w.a)(e,C);return Object(S.jsx)(k.b,Object(c.a)(Object(c.a)({},r),{},{render:function(e){return!1===n?t:Object(S.jsx)(k.a,{to:"/meet"})}}))},z=["children","authenticated"],F=function(e){var t=e.children,n=e.authenticated,r=Object(w.a)(e,z);return Object(S.jsx)(k.b,Object(c.a)(Object(c.a)({},r),{},{render:function(e){var c=e.location;return!0===n?t:Object(S.jsx)(k.a,{to:{pathname:"/login",state:{from:c}}})}}))},L=n(5),W=n(611),M=n(346),A=n(641),_=n(613),N=n(614),T=n(615),R=n(616),E=n(134),P=n(617),D=n(642),V=n(618),B=n(619),U=n(620),q=n(636),H=n(343),G=n(52),Y=n(622),J=n(623),Z=n(12),K=n.n(Z),Q=n(22),X=n(635),$=Object(X.a)({theme:y}),ee=Object(X.a)({theme:y}),te=function(){return function(){var e=Object(Q.a)(K.a.mark((function e(t,n,r){var a,s,i,o;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.getFirebase,s=a(),e.prev=2,e.next=5,s.login({provider:"google",type:"popup"});case 5:o=n().firebase.auth.displayName,i={title:"Logged in",description:"Welcome ".concat(o,"!"),status:"success"},e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),console.log("trouble google signin: >>",e.t0),i={title:"Unexpected error",description:"Could not complete logging in",status:"warning"};case 13:ee(Object(c.a)(Object(c.a)({},i),{},{position:"top",duration:5e3,isClosable:!0,variant:"left-accent"}));case 14:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,n,c){return e.apply(this,arguments)}}()};function ne(){var e=Object(r.useState)(""),t=Object(L.a)(e,2),n=t[0],a=t[1],s=Object(r.useState)(""),i=Object(L.a)(s,2),o=i[0],l=i[1],d=Object(r.useState)(!1),j=Object(L.a)(d,2),b=j[0],u=j[1],h=Object(g.b)();return Object(S.jsx)(W.a,{minH:"100vh",align:"center",justify:"center",bg:Object(M.d)("gray.50","gray.800"),children:Object(S.jsxs)(A.b,{spacing:8,mx:"auto",maxW:"lg",py:12,px:6,children:[Object(S.jsxs)(A.b,{align:"center",children:[Object(S.jsx)(_.a,{fontSize:"4xl",children:"Sign in to your account"}),Object(S.jsxs)(N.a,{fontSize:"lg",color:"gray.600",children:["Don't have an account"," ",Object(S.jsx)(T.a,{as:p.b,to:"/signup",color:"blue.400",children:"signup"})]})]}),Object(S.jsx)(R.a,{rounded:"lg",bg:Object(M.d)("white","gray.700"),boxShadow:"lg",p:8,children:Object(S.jsx)("form",{onSubmit:function(e){e.preventDefault(),h(function(e,t){return function(){var n=Object(Q.a)(K.a.mark((function n(r,a,s){var i,o,l,d,j;return K.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=s.getFirebase,o=i(),n.prev=2,n.next=5,o.login({email:e,password:t});case 5:d=n.sent,j=a().firebase.auth.displayName,l={title:"Logged in",description:"Welcome ".concat(j,"!"),status:"success"},console.log("user information: >>",d),n.next=15;break;case 11:n.prev=11,n.t0=n.catch(2),l={title:"Wrong Credentials",description:"Wrong email or password is incorrect",status:"error"},console.log("trouble signing in",n.t0);case 15:$(Object(c.a)(Object(c.a)({},l),{},{position:"top",duration:5e3,isClosable:!0,variant:"left-accent"}));case 16:case"end":return n.stop()}}),n,null,[[2,11]])})));return function(e,t,c){return n.apply(this,arguments)}}()}(n,o)),a(""),l("")},children:Object(S.jsxs)(A.b,{spacing:4,children:[Object(S.jsxs)(E.a,{id:"email",children:[Object(S.jsx)(P.a,{children:"Email address"}),Object(S.jsx)(D.a,{type:"email",value:n,required:!0,onChange:function(e){return a(e.target.value)}})]}),Object(S.jsxs)(E.a,{id:"password",children:[Object(S.jsx)(P.a,{children:"Password"}),Object(S.jsxs)(V.a,{size:"md",children:[Object(S.jsx)(D.a,{type:b?"text":"password",value:o,required:!0,minLength:"6",onChange:function(e){return l(e.target.value)}}),Object(S.jsx)(B.a,{children:Object(S.jsx)(U.a,{variant:"ghost",colorScheme:"teal","aria-label":"hideOrShowPass",icon:b?Object(S.jsx)(Y.a,{}):Object(S.jsx)(J.a,{}),onClick:function(){return u(!b)}})})]})]}),Object(S.jsxs)(A.b,{spacing:10,children:[Object(S.jsxs)(A.b,{direction:{base:"column",sm:"row"},align:"start",justify:"space-between",children:[Object(S.jsx)(q.a,{children:"Remember me"}),Object(S.jsx)(T.a,{as:p.b,to:"/reset",color:"blue.400",children:"Forgot password?"})]}),Object(S.jsxs)(A.b,{className:"login-btns",children:[Object(S.jsx)(H.a,{type:"submit",bg:"blue.400",color:"white",_hover:{bg:"blue.500"},children:"Sign in"}),Object(S.jsx)(N.a,{fontSize:"md",color:"gray.600",align:"center",children:"OR"}),Object(S.jsx)(H.a,{leftIcon:Object(S.jsx)(G.a,{}),bg:"red.400",color:"white",_hover:{bg:"red.500"},onClick:function(){h(te())},children:"Sign in with Google"})]})]})]})})})]})})}var ce=Object(X.a)({theme:y});function re(){var e=Object(r.useState)(""),t=Object(L.a)(e,2),n=t[0],a=t[1],s=Object(r.useState)(""),i=Object(L.a)(s,2),o=i[0],l=i[1],d=Object(r.useState)(""),j=Object(L.a)(d,2),b=j[0],u=j[1],h=Object(r.useState)(""),O=Object(L.a)(h,2),x=O[0],m=O[1],f=Object(r.useState)(!1),v=Object(L.a)(f,2),y=v[0],w=v[1],k=Object(g.b)();return Object(S.jsx)(W.a,{minH:"100vh",align:"center",justify:"center",bg:Object(M.d)("gray.50","gray.800"),children:Object(S.jsxs)(A.b,{spacing:8,mx:"auto",maxW:"lg",py:12,px:6,children:[Object(S.jsxs)(A.b,{align:"center",children:[Object(S.jsx)(_.a,{fontSize:"4xl",children:"Create a new account"}),Object(S.jsxs)(N.a,{fontSize:"lg",color:"gray.600",children:["Already have an account"," ",Object(S.jsx)(T.a,{as:p.b,to:"/login",color:"blue.400",children:"login"})]})]}),Object(S.jsx)(R.a,{rounded:"lg",bg:Object(M.d)("white","gray.700"),boxShadow:"lg",p:8,children:Object(S.jsx)("form",{onSubmit:function(e){e.preventDefault();var t="".concat(n," ").concat(o);k(function(e,t,n){return function(){var r=Object(Q.a)(K.a.mark((function r(a,s,i){var o,l,d,j,b;return K.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=i.getFirebase,l=o(),r.prev=2,r.next=5,l.createUser({email:e,password:t},{displayName:n,email:e});case 5:j=r.sent,b=s().firebase.profile.displayName,d={title:"Account created",description:"Welcome ".concat(b,"!"),status:"success"},console.log("user information: >>",j),r.next=15;break;case 11:r.prev=11,r.t0=r.catch(2),console.log("trouble signup",r.t0),d={title:"Wrong Credentials",description:"Wrong email or password is too short",status:"error"};case 15:ce(Object(c.a)(Object(c.a)({},d),{},{position:"top",duration:5e3,isClosable:!0,variant:"left-accent"}));case 16:case"end":return r.stop()}}),r,null,[[2,11]])})));return function(e,t,n){return r.apply(this,arguments)}}()}(b,x,t)),u(""),m(""),a(""),l("")},children:Object(S.jsxs)(A.b,{spacing:4,children:[Object(S.jsxs)(A.b,{direction:{base:"column",sm:"row"},align:"start",justify:"space-between",children:[Object(S.jsxs)(E.a,{id:"first-name",children:[Object(S.jsx)(P.a,{children:"First Name"}),Object(S.jsx)(D.a,{type:"text",value:n,placeholder:"John",required:!0,onChange:function(e){return a(e.target.value)}})]}),Object(S.jsxs)(E.a,{id:"last-name",children:[Object(S.jsx)(P.a,{children:"Last Name"}),Object(S.jsx)(D.a,{type:"text",value:o,placeholder:"Doe (optional)",onChange:function(e){return l(e.target.value)}})]})]}),Object(S.jsxs)(E.a,{id:"email",children:[Object(S.jsx)(P.a,{children:"Email address"}),Object(S.jsx)(D.a,{type:"email",value:b,required:!0,placeholder:"johndoe@microsoft.com",onChange:function(e){return u(e.target.value)}})]}),Object(S.jsxs)(E.a,{id:"password",children:[Object(S.jsx)(P.a,{children:"Password"}),Object(S.jsxs)(V.a,{size:"md",children:[Object(S.jsx)(D.a,{type:y?"text":"password",value:x,required:!0,minLength:"6",placeholder:"Must have atleast 6 characters",onChange:function(e){return m(e.target.value)}}),Object(S.jsx)(B.a,{children:Object(S.jsx)(U.a,{variant:"ghost",colorScheme:"teal","aria-label":"hideOrShowPass",icon:y?Object(S.jsx)(Y.a,{}):Object(S.jsx)(J.a,{}),onClick:function(){return w(!y)}})})]})]}),Object(S.jsxs)(A.b,{spacing:10,children:[Object(S.jsxs)(A.b,{direction:{base:"column",sm:"row"},align:"start",justify:"space-between",children:[Object(S.jsx)(q.a,{children:"Remember me"}),Object(S.jsx)(T.a,{as:p.b,to:"/reset",color:"blue.400",children:"Forgot password?"})]}),Object(S.jsxs)(A.b,{className:"login-btns",children:[Object(S.jsx)(H.a,{type:"submit",bg:"blue.400",color:"white",_hover:{bg:"blue.500"},children:"Sign up"}),Object(S.jsx)(N.a,{fontSize:"md",color:"gray.600",align:"center",children:"OR"}),Object(S.jsx)(H.a,{leftIcon:Object(S.jsx)(G.a,{}),bg:"red.400",color:"white",_hover:{bg:"red.500"},onClick:function(){k(te())},children:"Sign up with Google"})]})]})]})})})]})})}var ae=n(643),se=n(23),ie=n(113),oe=n.p+"static/media/meet.756b6ea0.svg",le=Object(X.a)({theme:y}),de=function(){var e=Object(k.g)(),t=Object(g.b)();return Object(S.jsx)(W.a,{bg:Object(M.d)("#F9FAFB","gray.600"),p:50,w:"full",alignItems:"center",justifyContent:"center",children:Object(S.jsxs)(R.a,{bg:Object(M.d)("white","gray.800"),mx:{lg:8},display:{lg:"flex"},maxW:{lg:"5xl"},shadow:{lg:"lg"},rounded:{lg:"lg"},children:[Object(S.jsx)(R.a,{w:{lg:"50%"},children:Object(S.jsx)(ae.a,{rounded:{lg:"lg"},bgSize:"cover",src:oe})}),Object(S.jsxs)(R.a,{py:12,px:6,maxW:{base:"xl",lg:"5xl"},w:{lg:"50%"},children:[Object(S.jsxs)(se.a.h2,{fontSize:{base:"2xl",md:"3xl"},color:Object(M.d)("gray.800","white"),fontWeight:"bold",children:["Meet Your"," ",Object(S.jsx)(se.a.span,{color:Object(M.d)("brand.600","brand.400"),children:"Friends"})]}),Object(S.jsx)(se.a.p,{mt:4,color:Object(M.d)("gray.600","gray.400"),children:"Lorem, ipsum dolor sit amet consectetur adipisicing elit. Quidem modi reprehenderit vitae exercitationem aliquid dolores ullam temporibus enim expedita aperiam mollitia iure consectetur dicta tenetur, porro consequuntur saepe accusantium consequatur."}),Object(S.jsx)(R.a,{mt:8,children:Object(S.jsx)(H.a,{onClick:function(){return t(function(e){return function(){var t=Object(Q.a)(K.a.mark((function t(n,r,a){var s,i,o,l,d,j,b,u,h,O;return K.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=a.getFirestore,i=r(),o=s(),l=i.firebase.auth.uid,d=i.firebase.profile,j=d.email,b=d.displayName,h={name:"Meeting",host:{uid:l,email:j,name:b},participants:null},t.prev=6,t.next=9,o.collection("meetings").add(h);case 9:O=t.sent,e.push("/join/meet/".concat(O.id)),u={title:"Meeting created",description:"Click on invite button to meet your friends",status:"success"},console.log("response :>> ",O.id),t.next=19;break;case 15:t.prev=15,t.t0=t.catch(6),console.log("error :>> ",t.t0),u={title:"Unexpected error",description:"Please check your internet connection",status:"error"};case 19:le(Object(c.a)(Object(c.a)({},u),{},{position:"top",duration:5e3,isClosable:!0,variant:"left-accent"}));case 20:case"end":return t.stop()}}),t,null,[[6,15]])})));return function(e,n,c){return t.apply(this,arguments)}}()}(e))},leftIcon:Object(S.jsx)(ie.d,{}),bg:"gray.900",color:"gray.100",px:5,py:3,fontWeight:"semibold",rounded:"lg",_hover:{bg:"gray.800"},children:"New Meeting"})})]})]})})},je=n(625),be=n(335),ue=Object(X.a)({theme:y});function he(){var e=Object(r.useState)(""),t=Object(L.a)(e,2),n=t[0],a=t[1],s=Object(g.b)(),i=Object(k.g)();return Object(S.jsx)(W.a,{minH:"100vh",align:"center",justify:"center",bg:Object(M.d)("gray.50","gray.800"),children:Object(S.jsxs)(A.b,{spacing:8,mx:"auto",maxW:"lg",py:12,px:6,children:[Object(S.jsxs)(A.b,{align:"center",children:[Object(S.jsx)(_.a,{align:"center",fontSize:"4xl",children:"Trouble Logging In?"}),Object(S.jsx)(N.a,{align:"center",fontSize:"md",color:"gray.600",children:"Enter your email address and we'll send you a link to get back into your account."})]}),Object(S.jsx)(R.a,{rounded:"lg",bg:Object(M.d)("white","gray.700"),boxShadow:"lg",p:8,children:Object(S.jsx)("form",{onSubmit:function(e){e.preventDefault(),s(function(e){return function(){var t=Object(Q.a)(K.a.mark((function t(n,r,a){var s,i,o;return K.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=a.getFirebase,i=s(),t.prev=2,t.next=5,i.resetPassword(e);case 5:o={title:"Success",description:"Sent reset link to ".concat(e),status:"success"},t.next=12;break;case 8:t.prev=8,t.t0=t.catch(2),console.log("trouble resetting password: >>",t.t0),o={title:"Wrong Email",description:"Please enter the correct email address",status:"error"};case 12:ue(Object(c.a)(Object(c.a)({},o),{},{position:"top",duration:5e3,isClosable:!0,variant:"left-accent"}));case 13:case"end":return t.stop()}}),t,null,[[2,8]])})));return function(e,n,c){return t.apply(this,arguments)}}()}(n)),a("")},children:Object(S.jsxs)(A.b,{spacing:4,children:[Object(S.jsxs)(E.a,{id:"email",children:[Object(S.jsx)(P.a,{children:"Email address"}),Object(S.jsx)(D.a,{type:"email",value:n,placeholder:"johndoe@microsoft.com",required:!0,onChange:function(e){return a(e.target.value)}})]}),Object(S.jsx)(A.b,{spacing:10,children:Object(S.jsxs)(A.b,{className:"login-btns",children:[Object(S.jsx)(H.a,{leftIcon:Object(S.jsx)(je.a,{}),type:"submit",bg:"blue.400",color:"white",_hover:{bg:"blue.500"},children:"Send Reset Link"}),Object(S.jsx)(N.a,{fontSize:"md",color:"gray.600",align:"center",children:"OR"}),Object(S.jsx)(H.a,{leftIcon:Object(S.jsx)(be.a,{}),bg:"green.50",color:"blackAlpha.700",_hover:{bg:"green.100"},onClick:function(){return i.push("/login")},children:"Back To Login"})]})})]})})})]})})}var Oe=n(637),xe=function(){return Object(S.jsx)(A.b,{children:Object(S.jsx)(Oe.a,{height:"xl"})})},ge=n(628),pe=n(26),me=n(336),fe=n.n(me),ve="/api/rtctoken",ye={fetchAgoraToken:function(){var e=Object(Q.a)(K.a.mark((function e(t,n){var c,r,a,s=arguments;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=!(s.length>2&&void 0!==s[2])||s[2],r={channel:t,uid:n,isPublisher:c},e.next=4,fe.a.post(ve,r);case 4:return a=e.sent,e.abrupt("return",a.data);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},we=n(114),ke=n(333),Se=n(337),Ce=function(e){var t=e.tracks,n=e.setStart,a=(0,e.useClient)(),s=Object(r.useState)({video:!0,audio:!0}),i=Object(L.a)(s,2),o=i[0],l=i[1],d=Object(k.g)(),j=function(){var e=Object(Q.a)(K.a.mark((function e(n){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("audio"!==n){e.next=6;break}return e.next=3,t[0].setEnabled(!o.audio);case 3:l((function(e){return Object(c.a)(Object(c.a)({},e),{},{audio:!e.audio})})),e.next=10;break;case 6:if("video"!==n){e.next=10;break}return e.next=9,t[1].setEnabled(!o.video);case 9:l((function(e){return Object(c.a)(Object(c.a)({},e),{},{video:!e.video})}));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(Q.a)(K.a.mark((function e(){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.leave();case 2:a.removeAllListeners(),t[0].close(),t[1].close(),n(!1),d.push("/meet");case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(S.jsx)(R.a,{className:"controls",children:Object(S.jsxs)(ke.a,{variant:"solid",spacing:5,px:4,children:[Object(S.jsx)(U.a,{className:o.audio?"on":"",onClick:function(){return j("video")},colorScheme:"blackAlpha","aria-label":"Toggle Video Camera",icon:o.video?Object(S.jsx)(G.f,{}):Object(S.jsx)(G.g,{}),padding:4}),Object(S.jsx)(U.a,{className:o.audio?"on":"",onClick:function(){return j("audio")},colorScheme:"blackAlpha","aria-label":"Toggle microphone",icon:o.audio?Object(S.jsx)(G.b,{}):Object(S.jsx)(G.c,{}),padding:4}),Object(S.jsx)(U.a,{onClick:function(){return b()},colorScheme:"red","aria-label":"hangup call",icon:Object(S.jsx)(Se.a,{}),padding:4})]})})},Ie=function(e){var t=e.remoteUsers,n=e.tracks;return Object(S.jsx)(R.a,{children:Object(S.jsxs)(R.a,{id:"videos",children:[Object(S.jsx)(we.AgoraVideoPlayer,{className:"vid",videoTrack:n[1]}),null===t||void 0===t?void 0:t.map((function(e){return e.videoTrack?Object(S.jsx)(we.AgoraVideoPlayer,{className:"vid",videoTrack:e.videoTrack},e.uid):null}))]})})},ze=Object(we.createClient)({mode:"rtc",codec:"h264"}),Fe=Object(we.createMicrophoneAndCameraTracks)(),Le=function(e){var t=e.channelName,n=Object(g.c)((function(e){return e.firebase.auth})),c=ze(),a=Fe(),s=a.ready,i=a.tracks;console.log("client :>> ",c);var o=Object(r.useState)([]),l=Object(L.a)(o,2),d=l[0],j=l[1],b=Object(r.useState)(!1),u=Object(L.a)(b,2),h=u[0],O=u[1];return console.log("start :>> ",h),console.log("remoteUsers :>> ",d),console.log("ready :>> ",s),console.log("tracks :>> ",i),Object(r.useEffect)((function(){var e=function(){var e=Object(Q.a)(K.a.mark((function e(t){var r,a,s;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.on("user-published",function(){var e=Object(Q.a)(K.a.mark((function e(t,n){var r;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.subscribe(t,n);case 2:console.log("subscribe success"),"video"===n&&j((function(e){return[].concat(Object(pe.a)(e),[t])})),"audio"===n&&(null===(r=t.audioTrack)||void 0===r||r.play());case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),c.on("user-unpublished",(function(e,t){var n;(console.log("unpublished",e,t),"audio"===t)&&(null===(n=e.audioTrack)||void 0===n||n.stop());"video"===t&&j((function(t){return t.filter((function(t){return t.uid!==e.uid}))}))})),c.on("user-left",(function(e){console.log("leaving",e),j((function(t){return t.filter((function(t){return t.uid!==e.uid}))}))})),e.next=5,ye.fetchAgoraToken(t,n.uid);case 5:return r=e.sent,a=r.uid,s=r.token,console.log("user id token blabla :>> ",a,typeof a),e.next=11,c.join("3bc691d0b4cb490a9c18f7f3db4379f1",t,s,a);case 11:if(!i){e.next=14;break}return e.next=14,c.publish([i[0],i[1]]);case 14:O(!0);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();s&&i&&(console.log("init ready"),e(t))}),[n.uid,t,c,s,i]),Object(S.jsxs)(R.a,{children:[h&&i&&Object(S.jsx)(Ie,{remoteUsers:d,tracks:i}),s&&i&&Object(S.jsx)(Ce,{useClient:ze,tracks:i,setStart:O})]})},We=n(626),Me=n(634),Ae=n(342),_e=n(174),Ne={position:"top",duration:4e3,isClosable:!0,variant:"left-accent"},Te=function(e){var t=e.meetId,n=Object(We.a)(),a=n.isOpen,s=n.onOpen,i=n.onClose,o=Object(r.useState)(""),l=Object(L.a)(o,2),d=l[0],j=l[1],u=Object(b.useFirestore)(),h=Object(g.c)((function(e){return e.firebase.auth})),O=h.email,x=h.displayName,p=Object(X.a)({theme:y}),m=function(){var e=Object(Q.a)(K.a.mark((function e(n){var r,a,s;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),r=window.location.href,a={from_name:x,from_email:O,url:r,to_email:d},e.prev=3,e.next=6,Ae.a.send("service_8hgybxj","template_0juker4",a,"user_xuEHTOFWYFLZN2yybqsFb");case 6:return s=e.sent,p(Object(c.a)({title:"Invite sent",description:"Invitation sent successfully to ".concat(d),status:"success"},Ne)),console.log("email sent successfully :>> ",s),e.next=11,u.collection("meetings").doc(t).update({participants:u.FieldValue.arrayUnion({email:d})});case 11:j(""),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(3),console.log("sorry email could not be sent",e.t0),p(Object(c.a)({title:"Invite failed",description:"Please check the email address",status:"error"},Ne));case 18:case"end":return e.stop()}}),e,null,[[3,14]])})));return function(t){return e.apply(this,arguments)}}();return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(H.a,{variant:"outline",border:"2px",borderColor:"whiteAlpha.400",leftIcon:Object(S.jsx)(_e.b,{}),onClick:s,color:"green.300",px:6,py:6,fontSize:"sm",fontWeight:"semibold",rounded:"md",_hover:{bg:"gray.700"},children:"Invite"}),Object(S.jsxs)(Me.a,{isOpen:a,onClose:i,children:[Object(S.jsx)(Me.g,{}),Object(S.jsxs)(Me.d,{children:[Object(S.jsx)(Me.f,{children:"Add participants"}),Object(S.jsx)(Me.c,{}),Object(S.jsxs)("form",{onSubmit:m,children:[Object(S.jsx)(Me.b,{pb:6,children:Object(S.jsxs)(E.a,{children:[Object(S.jsx)(P.a,{children:"Email address"}),Object(S.jsx)(D.a,{type:"email",value:d,placeholder:"johndoe@microsoft.com",required:!0,onChange:function(e){return j(e.target.value)}})]})}),Object(S.jsx)(Me.e,{children:Object(S.jsxs)(ke.a,{spacing:"5",children:[Object(S.jsx)(H.a,{leftIcon:Object(S.jsx)(je.a,{}),type:"submit",bg:"brand.500",color:"white",_hover:{bg:"brand.600"},children:"Send Invite"}),Object(S.jsx)(H.a,{colorScheme:"brand",variant:"outline",onClick:i,children:"Cancel"})]})})]})]})]})]})},Re=function(){var e=Object(k.h)().id,t=Object(k.g)(),n=Object(X.a)({theme:y}),c=Object(g.c)((function(e){return e.firebase.auth}));Object(b.useFirestoreConnect)([{collection:"meetings",doc:e}]);var r=Object(g.c)((function(t){var n=t.firestore.data;return n.meetings&&n.meetings[e]}));return console.log("meeting :>> ",r),Object(b.isLoaded)(r)?Object(b.isEmpty)(r)?(t.push("/meet"),n({title:"Wrong URL",description:"Please enter the correct meeting url",status:"error",position:"top",duration:4e3,isClosable:!0,variant:"top-accent"}),null):r.host.email===c.email||r.participants&&r.participants.find((function(e){return e.email===c.email}))?Object(S.jsxs)(R.a,{h:"100vh",bg:"gray.800",children:[Object(S.jsx)(ge.a,{children:Object(S.jsx)(ge.a,{children:Object(S.jsx)(Te,{meetId:e})})}),Object(S.jsx)(ge.a,{children:Object(S.jsx)(R.a,{className:"conference",border:"1px",children:Object(S.jsx)(Le,{channelName:e})})})]}):(t.push("/meet"),n({title:"Sorry host has not invited you",description:"Please contact the host for invitation link!",status:"warning",position:"top",duration:4e3,isClosable:!0,variant:"top-accent"}),null):Object(S.jsx)(xe,{})},Ee=n(644),Pe=n(610),De=n(633),Ve=n(645),Be=n(339),Ue=function(){var e=Object(k.g)();return Object(S.jsx)(H.a,{colorScheme:"brand",variant:"ghost",size:"sm",onClick:function(){return e.push("/login")},children:"Log in"})},qe=function(){var e=Object(k.g)();return Object(S.jsx)(H.a,{colorScheme:"brand",variant:"solid",size:"sm",onClick:function(){return e.push("/signup")},children:"Sign up"})},He=function(){var e=Object(g.b)(),t=Object(k.g)();return Object(S.jsx)(H.a,{colorScheme:"brand",variant:"outline",size:"sm",onClick:function(){e(function(){var e=Object(Q.a)(K.a.mark((function e(t,n,c){var r,a;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.getFirebase,a=r(),e.prev=2,e.next=5,a.logout();case 5:console.log("user successfully logged out"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),console.log("trouble logging out",e.t0);case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t,n,c){return e.apply(this,arguments)}}()),t.push("/")},children:"Log out"})};function Ge(e){var t=e.authenticated,n=Object(k.g)(),c=Object(M.c)().toggleColorMode,r=Object(M.d)("dark","light"),s=Object(M.d)(G.d,G.e),i=Object(M.d)("white","gray.800"),o=a.a.useRef(),l=a.a.useState(0),d=Object(L.a)(l,2),j=d[0],b=d[1],u=(o.current?o.current.getBoundingClientRect():{}).height,h=void 0===u?0:u,O=Object(Ve.a)().scrollY;a.a.useEffect((function(){return O.onChange((function(){return b(O.get())}))}),[O]);var x=Object(M.d)("gray.800","white"),g=Object(We.a)(),m=function(e){var t=Object(M.d)("brand.600","brand.50"),n=Object(M.d)("gray.50","brand.400"),c=Object(M.d)("gray.900","gray.50"),r=Object(M.d)("gray.500","gray.50");return Object(S.jsxs)(T.a,{m:-3,p:3,display:"flex",alignItems:"start",rounded:"lg",_hover:{bg:n},children:[Object(S.jsx)(se.a.svg,{flexShrink:0,h:6,w:6,color:t,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:e.icon}),Object(S.jsxs)(R.a,{ml:4,children:[Object(S.jsx)(se.a.p,{fontSize:"sm",fontWeight:"700",color:c,children:e.title}),Object(S.jsx)(se.a.p,{mt:1,fontSize:"sm",color:r,children:e.children})]})]})},f=function(e){var t=Object(M.d)("gray.50","brand.400"),n=Object(M.d)("gray.100","brand.500"),c=Object(M.d)("gray.900","gray.50");return Object(S.jsxs)(a.a.Fragment,{children:[Object(S.jsxs)(Ee.a,{columns:e.h?{base:1,md:3,lg:5}:1,pos:"relative",gap:{base:6,sm:8},px:5,py:6,p:{sm:8},children:[Object(S.jsx)(m,{title:"Analytics",icon:Object(S.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"}),children:"Get a better understanding of where your traffic is coming from."}),Object(S.jsx)(m,{title:"Engagement",icon:Object(S.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 15l-2 5L9 9l11 4-5 2zm0 0l5 5M7.188 2.239l.777 2.897M5.136 7.965l-2.898-.777M13.95 4.05l-2.122 2.122m-5.657 5.656l-2.12 2.122"}),children:"Speak directly to your customers in a more meaningful way."}),Object(S.jsx)(m,{title:"Security",icon:Object(S.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"}),children:"Your customers' data will be safe and secure."}),Object(S.jsx)(m,{title:"Integrations",description:Object(S.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"}),children:"Connect with third-party tools that you're already using."}),Object(S.jsx)(m,{title:"Automations",icon:Object(S.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"}),children:"Build strategic funnels that will drive your customers to convert"})]}),Object(S.jsx)(R.a,{px:{base:5,sm:8},py:5,bg:t,display:{sm:"flex"},children:Object(S.jsxs)(A.b,{direction:{base:"row"},spacing:{base:6,sm:10},children:[Object(S.jsx)(R.a,{display:"flow-root",children:Object(S.jsxs)(T.a,{m:-3,p:3,display:"flex",alignItems:"center",rounded:"md",fontSize:"md",color:c,_hover:{bg:n},children:[Object(S.jsxs)(se.a.svg,{flexShrink:0,h:6,w:6,color:"gray.400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:[Object(S.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"}),Object(S.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]}),Object(S.jsx)(se.a.span,{ml:3,children:"Watch Demo"})]})}),Object(S.jsx)(R.a,{display:"flow-root",children:Object(S.jsxs)(T.a,{m:-3,p:3,display:"flex",alignItems:"center",rounded:"md",fontSize:"md",color:c,_hover:{bg:n},children:[Object(S.jsx)(se.a.svg,{flexShrink:0,h:6,w:6,color:"gray.400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:Object(S.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),Object(S.jsx)(se.a.span,{ml:3,children:"Contact Sales"})]})})]})})]})},v=function(){return t?Object(S.jsx)(He,{}):Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(Ue,{}),Object(S.jsx)(qe,{})]})},y=function(){var e=Object(k.g)();return Object(S.jsxs)(A.c,{pos:"absolute",top:0,left:0,right:0,display:g.isOpen?"flex":"none",flexDirection:"column",p:2,pb:4,m:2,bg:i,spacing:3,rounded:"sm",shadow:"sm",children:[Object(S.jsx)(Pe.a,{"aria-label":"Close menu",justifySelf:"self-start",onClick:g.onClose}),Object(S.jsx)(H.a,{w:"full",variant:"ghost",leftIcon:Object(S.jsx)(ie.a,{}),onClick:function(){return e.push("/meet")},children:"Dashboard"}),Object(S.jsx)(H.a,{w:"full",variant:"solid",colorScheme:"brand",leftIcon:Object(S.jsx)(ie.b,{}),children:"Inbox"}),Object(S.jsx)(H.a,{w:"full",variant:"ghost",leftIcon:Object(S.jsx)(_e.a,{}),children:"Videos"})]})};return Object(S.jsx)(a.a.Fragment,{children:Object(S.jsx)(se.a.header,{ref:o,shadow:j>h?"sm":void 0,transition:"box-shadow 0.2s",bg:i,w:"full",overflowY:"hidden",borderBottomWidth:2,borderBottomColor:Object(M.d)("gray.200","gray.900"),children:Object(S.jsxs)(se.a.div,{h:"4.5rem",mx:"auto",maxW:"1200px",children:[Object(S.jsxs)(W.a,{w:"full",h:"full",px:"6",alignItems:"center",justifyContent:"space-between",children:[Object(S.jsx)(W.a,{align:"flex-start",children:Object(S.jsx)(T.a,{as:p.b,to:"/",children:Object(S.jsx)(A.a,{children:Object(S.jsx)(_.a,{color:"brand.600",children:"Teams"})})})}),Object(S.jsx)(W.a,{children:Object(S.jsxs)(A.a,{spacing:"5",display:{base:"none",md:"flex"},children:[Object(S.jsx)(H.a,{onClick:function(){return n.push("/meet")},bg:i,color:"gray.500",display:"inline-flex",alignItems:"center",fontSize:"md",_hover:{color:x},_focus:{boxShadow:"none"},children:"Dashboard"}),Object(S.jsxs)(De.a,{children:[Object(S.jsx)(De.c,{children:Object(S.jsx)(H.a,{bg:i,color:"gray.500",display:"inline-flex",alignItems:"center",fontSize:"md",_hover:{color:x},_focus:{boxShadow:"none"},rightIcon:Object(S.jsx)(Be.a,{}),children:"Features"})}),Object(S.jsx)(De.b,{w:"100vw",maxW:"md",_focus:{boxShadow:"md"},children:Object(S.jsx)(f,{})})]}),Object(S.jsx)(H.a,{bg:i,color:"gray.500",display:"inline-flex",alignItems:"center",fontSize:"md",_hover:{color:x},_focus:{boxShadow:"none"},onClick:function(){return n.push("/about")},children:"About"})]})}),Object(S.jsxs)(W.a,{justify:"flex-end",align:"center",color:"gray.400",children:[Object(S.jsx)(A.a,{spacing:"5",display:{base:"none",md:"flex"},children:Object(S.jsx)(v,{})}),Object(S.jsx)(U.a,{size:"md",fontSize:"lg","aria-label":"Switch to ".concat(r," mode"),variant:"ghost",color:"current",ml:{base:"0",md:"3"},onClick:c,icon:Object(S.jsx)(s,{})}),Object(S.jsx)(U.a,{display:{base:"flex",md:"none"},"aria-label":"Open menu",fontSize:"20px",color:Object(M.d)("gray.800","inherit"),variant:"ghost",icon:Object(S.jsx)(ie.c,{}),onClick:g.onOpen})]})]}),Object(S.jsx)(y,{})]})})})}var Ye=n(629),Je=n(630),Ze=n(176),Ke=n.p+"static/media/team-meeting-colored.3a8ef2c6.svg",Qe=function(){var e=Object(k.g)();return Object(S.jsxs)(W.a,{direction:{base:"column",md:"row"},bg:Object(M.d)("gray.50"),px:14,py:20,mx:"auto",children:[Object(S.jsxs)(R.a,{w:{base:"full",md:11/12,xl:.75},mx:"auto",pr:{md:20},children:[Object(S.jsxs)(se.a.h2,{fontSize:{base:"3xl",sm:"4xl"},fontWeight:"extrabold",lineHeight:"shorter",color:Object(M.d)("#3c4178","gray.100"),mb:6,children:[Object(S.jsx)(se.a.span,{display:"block",children:"Microsoft Teams"}),Object(S.jsx)(se.a.span,{display:"block",color:Object(M.d)("gray.700","gray.500"),children:"Meet, chat, call, and collaborate in just one place."})]}),Object(S.jsx)(se.a.p,{mb:6,fontSize:{base:"lg",md:"xl"},color:Object(M.d)("black.100","gray.300"),children:Object(S.jsxs)(Ye.a,{spacing:3,children:[Object(S.jsxs)(Ye.c,{children:[Object(S.jsx)(Ye.b,{as:Ze.a,color:"brand.500"}),"Whether it\u2019s chat, calls, or video, anyone can engage at any time, bringing everyone closer."]}),Object(S.jsxs)(Ye.c,{children:[Object(S.jsx)(Ye.b,{as:Ze.a,color:"brand.500"}),"Share your opinion and have fun with your team. Send GIFs, stickers, and emojis in a group chat or in one-to-one messages."]}),Object(S.jsxs)(Ye.c,{children:[Object(S.jsx)(Ye.b,{as:Ze.a,color:"brand.500"}),"Make and receive calls directly in Microsoft Teams with advanced features like group calling, cloud voicemail, and call transfers."]})]})}),Object(S.jsx)(A.b,{direction:{base:"column",sm:"row"},mb:{base:4,md:8},spacing:2,children:Object(S.jsx)(R.a,{display:"inline-flex",rounded:"md",shadow:"md",width:"md",children:Object(S.jsx)(se.a.button,{fontSize:"xl",onClick:function(){return e.push("/meet")},display:"inline-flex",alignItems:"center",justifyContent:"center",px:5,py:3,border:"solid transparent",fontWeight:"bold",w:"full",rounded:"md",color:Object(M.d)("white"),bg:Object(M.d)("brand.600","brand.500"),_hover:{bg:Object(M.d)("brand.700","brand.600")},children:"Get Started"})})})]}),Object(S.jsx)(Je.a,{}),Object(S.jsx)(R.a,{w:{base:"full",md:10/12},mx:"auto",textAlign:"center",children:Object(S.jsx)(ae.a,{w:"full",rounded:"lg",shadow:"2xl",boxSize:"480",src:Ke,alt:"Teammates talking over video conference"})})]})},Xe=function(e){var t=e.teamId,n=Object(r.useState)(""),c=Object(L.a)(n,2),a=c[0],s=c[1],i=Object(g.c)((function(e){return e.firebase.auth})),o=Object(b.useFirestore)(),l=function(){var e=Object(Q.a)(K.a.mark((function e(n){var c,r,l;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),c=i.uid,r=i.photoURL,l=a,s(""),e.next=6,o.collection("teams").doc(t).collection("messages").add({text:l,createdAt:o.FieldValue.serverTimestamp(),uid:c,photoURL:r});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(S.jsx)(S.Fragment,{children:Object(S.jsxs)("form",{className:"chat-box",onSubmit:l,children:[Object(S.jsx)("input",{className:"chat-input",value:a,onChange:function(e){return s(e.target.value)},placeholder:"Type a new message"}),Object(S.jsx)("button",{class:"chat-btn",type:"submit",disabled:!a,children:"\ud83d\udd4a\ufe0f"})]})})},$e=function(e){var t=e.message,n=t.text,c=t.uid,r=t.photoURL,a=c===Object(g.c)((function(e){return e.firebase.auth})).uid?"sent":"received";return Object(S.jsx)(S.Fragment,{children:Object(S.jsxs)("div",{className:"message ".concat(a),children:[Object(S.jsx)("img",{class:"chat-avatar",src:r,alt:"avatar"}),Object(S.jsx)("p",{class:"chat-text",children:n})]})})},et=(n(593),function(e){var t=e.teamId;Object(b.useFirestoreConnect)([{collection:"teams",doc:t,subcollections:[{collection:"messages",orderBy:"createdAt",limitToLast:"10"}],storeAs:"messages"}]);var n=Object(g.c)((function(e){return e.firestore.ordered.messages}));console.log("messages :>> ",n);var c=Object(r.useRef)();return Object(r.useEffect)((function(){c.current.scrollIntoView({behavior:"smooth"})}),[n]),Object(S.jsxs)("section",{className:"chat-room",children:[Object(S.jsxs)("main",{className:"chat-content",children:[null===n||void 0===n?void 0:n.map((function(e){return Object(S.jsx)($e,{message:e},e.id)})),Object(S.jsx)("span",{ref:c})]}),Object(S.jsx)(Xe,{teamId:t})]})}),tt=function(){var e=Object(g.c)((function(e){return e.firebase.auth})),t=Object(b.isLoaded)(e)&&!Object(b.isEmpty)(e);return Object(b.isLoaded)(e)?Object(S.jsxs)(k.d,{children:[Object(S.jsx)(k.b,{path:"/",exact:!0,children:Object(S.jsxs)(R.a,{children:[Object(S.jsx)(Ge,{authenticated:t}),Object(S.jsx)(Qe,{})]})}),Object(S.jsx)(k.b,{path:"/about",exact:!0,children:Object(S.jsx)(et,{teamId:"xsWcNDCxtA3kku9yM9Cu"})}),Object(S.jsx)(F,{path:"/join/meet/:id",authenticated:t,children:Object(S.jsx)(Re,{})}),Object(S.jsx)(F,{path:"/meet",authenticated:t,children:Object(S.jsxs)(R.a,{children:[Object(S.jsx)(Ge,{authenticated:t}),Object(S.jsx)(de,{})]})}),Object(S.jsx)(I,{path:"/login",authenticated:t,children:Object(S.jsx)(ne,{})}),Object(S.jsx)(I,{path:"/signup",authenticated:t,children:Object(S.jsx)(re,{})}),Object(S.jsx)(I,{path:"/reset",authenticated:t,children:Object(S.jsx)(he,{})})]}):Object(S.jsx)(xe,{})},nt=(n(594),{firebase:o.a,config:{userProfile:"users",useFirestoreForProfile:!0},dispatch:x.dispatch,createFirestoreInstance:u.createFirestoreInstance});i.a.render(Object(S.jsx)(g.a,{store:x,children:Object(S.jsx)(b.ReactReduxFirebaseProvider,Object(c.a)(Object(c.a)({},nt),{},{children:Object(S.jsx)(p.a,{children:Object(S.jsxs)(m.a,{theme:y,children:[Object(S.jsx)(f.a,{initialColorMode:y.config.initialColorMode}),Object(S.jsx)(tt,{})]})})}))}),document.getElementById("root"))}},[[595,1,2]]]);
//# sourceMappingURL=main.6a553d87.chunk.js.map